<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Galaxy Brain — DOM2D</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@300;400;500&family=Bebas+Neue&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  
  :root {
    --bg: #0a0a0a;
    --bg2: rgba(255,255,255,0.04);
    --text: #e8e8e8;
    --text-dim: #888;
    --border: rgba(255,255,255,0.1);
    --border-hover: rgba(255,255,255,0.25);
    --red: #cc4444;
    --mono: 'DM Mono', monospace;
    --display: 'Bebas Neue', cursive;
  }
  
  body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--mono);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 48px 20px 80px;
    position: relative;
  }

  .container {
    position: relative;
    z-index: 1;
    width: 100%;
    max-width: 920px;
  }

  /* Header */
  header {
    text-align: center;
    margin-bottom: 48px;
  }

  .logo-image {
    width: 180px;
    height: auto;
    margin-bottom: 16px;
    opacity: 0.95;
  }

  .logo {
    font-family: var(--display);
    font-size: clamp(52px, 12vw, 84px);
    color: var(--text);
    letter-spacing: 6px;
    margin-bottom: 8px;
    line-height: 1;
    font-weight: 400;
  }

  .tagline {
    font-family: var(--mono);
    font-size: 11px;
    color: var(--text-dim);
    letter-spacing: 5px;
    text-transform: uppercase;
    opacity: 0.9;
  }

  /* Games grid */
  .games-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
    margin-bottom: 48px;
  }

  .game-card {
    background: rgba(255,255,255,0.015);
    border: 1px solid var(--border);
    border-radius: 11px;
    padding: 20px;
    transition: all 0.3s;
    cursor: pointer;
    text-decoration: none;
    display: block;
    position: relative;
  }

  .game-card:hover {
    border-color: var(--border-hover);
    transform: translateY(-3px);
    box-shadow: 0 0 20px rgba(255,255,255,0.05);
  }

  .game-card:active {
    transform: translateY(-1px);
  }

  /* Completion checkmark */
  .completion-check {
    position: absolute;
    top: 16px;
    right: 16px;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: rgba(255,255,255,0.08);
    border: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    opacity: 0;
    transition: all 0.3s;
  }

  .completion-check.completed {
    opacity: 1;
    background: rgba(255,255,255,0.15);
    border-color: var(--text);
  }

  .game-icon {
    width: 64px;
    height: 64px;
    margin-bottom: 12px;
    object-fit: contain;
    opacity: 0.9;
    transition: opacity 0.3s;
  }

  .game-card:hover .game-icon {
    opacity: 1;
  }

  .game-day {
    font-size: 9px;
    color: #555;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 6px;
  }

  .game-name {
    font-family: var(--display);
    font-size: 28px;
    letter-spacing: 3px;
    margin-bottom: 8px;
    line-height: 1.1;
  }

  /* Game-specific colors */
  .game-card[data-game="werewolf"] .game-name       { color: #c93a3a; }
  .game-card[data-game="folderdle"] .game-name      { color: #008080; }
  .game-card[data-game="caveman"] .game-name        { color: #cc5500; }
  .game-card[data-game="nerdstack"] .game-name      { color: #d4af37; }
  .game-card[data-game="mathemagical"] .game-name   { color: #2d6e4a; }
  .game-card[data-game="memori"] .game-name         { color: #e74c3c; }
  .game-card[data-game="faceoff"] .game-name        { color: #9b59b6; }
  .game-card[data-game="scratchoff"] .game-name     { color: #e67e22; }
  .game-card[data-game="guesswhat"] .game-name      { color: #5ba3d0; }

  .game-desc {
    font-size: 11px;
    color: #888;
    line-height: 1.6;
    margin-bottom: 14px;
  }

  .game-status {
    display: flex;
    gap: 8px;
    align-items: center;
  }

  .badge {
    font-size: 9px;
    letter-spacing: 1px;
    padding: 4px 9px;
    border-radius: 5px;
    text-transform: uppercase;
  }

  .badge.new {
    color: var(--text);
    background: rgba(255,255,255,0.08);
    border: 1px solid var(--border);
  }

  /* Footer */
  footer {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: rgba(10,10,10,0.95);
    border-top: 1px solid var(--border);
    padding: 16px 20px;
    z-index: 100;
    backdrop-filter: blur(10px);
  }

  .footer-content {
    max-width: 920px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 16px;
  }

  .footer-countdown {
    display: flex;
    align-items: baseline;
    gap: 12px;
  }

  .countdown-label {
    font-size: 10px;
    color: var(--text-dim);
    letter-spacing: 2px;
    text-transform: uppercase;
  }

  .countdown-timer {
    font-family: var(--display);
    font-size: 24px;
    color: var(--text);
    letter-spacing: 2px;
  }

  .footer-link {
    font-size: 11px;
    color: var(--text-dim);
    text-decoration: none;
    transition: color 0.2s;
  }

  .footer-link:hover {
    color: var(--text);
  }

  .kofi-link {
    letter-spacing: 1px;
  }

  /* Responsive */
  @media (max-width: 640px) {
    .games-grid {
      grid-template-columns: 1fr;
    }

    .logo {
      font-size: 48px;
    }

    .tagline {
      font-size: 10px;
      letter-spacing: 3px;
    }

    .footer-content {
      flex-direction: column;
      text-align: center;
    }
  }
</style>
</head>
<body>

<div class="container">
  <header>
    <img src="galaxybrain.png" alt="Galaxy Brain" class="logo-image">
    <h1 class="logo">GALAXY BRAIN</h1>
    <p class="tagline">Weekly Puzzles and Trivia</p>
  </header>

  <div class="games-grid">
    
    <a href="/werewolf/werewolf.html" class="game-card" data-game="werewolf">
      <div class="completion-check" id="check-werewolf"></div>
      <img src="werewolf.png" alt="Werewolf Daily" class="game-icon">
      <div class="game-name">WEREWOLF DAILY</div>
      <div class="game-desc">Identify the liars among villagers using logic deduction. Werewolves always lie, villagers always tell the truth.</div>
    </a>

    <a href="/folder/folder.html" class="game-card" data-game="folderdle">
      <div class="completion-check" id="check-folderdle"></div>
      <img src="folderdle.png" alt="Folderdle" class="game-icon">
      <div class="game-name">FOLDERDLE</div>
      <div class="game-desc">Organize files into folders based on patterns and clues. Use logic to infer the categorization rules.</div>
    </a>

    <a href="/caveman/caveman.html" class="game-card" data-game="caveman">
      <div class="completion-check" id="check-caveman"></div>
      <img src="caveman.png" alt="Caveman Movies" class="game-icon">
      <div class="game-name">CAVEMAN MOVIES</div>
      <div class="game-desc">Decode movie titles from caveman-speak. Pure pattern recognition and cultural knowledge.</div>
    </a>

    <a href="/stack/stack.html" class="game-card" data-game="nerdstack">
      <div class="completion-check" id="check-nerdstack"></div>
      <img src="nerdstack.png" alt="Nerdstack" class="game-icon">
      <div class="game-name">NERDSTACK</div>
      <div class="game-desc">Stack knowledge across science, tech, and culture. Connect concepts in layered trivia challenges.</div>
    </a>

    <a href="/cardgrid/cardgrid.html" class="game-card" data-game="mathemagical">
      <div class="completion-check" id="check-mathemagical"></div>
      <img src="mathemagical.png" alt="Mathemagical" class="game-icon">
      <div class="game-name">MATHEMAGICAL</div>
      <div class="game-desc">Arrange playing cards in a 3×3 grid where every clue is satisfied. Pure logical deduction.</div>
    </a>

    <a href="/memory/memory.html" class="game-card" data-game="memori">
      <div class="completion-check" id="check-memori"></div>
      <img src="memori.png" alt="Memori" class="game-icon">
      <div class="game-name">MEMORI</div>
      <div class="game-desc">Match pairs while racing the clock. Memory meets strategy as difficulty scales with progress.</div>
    </a>

    <a href="/faceoff/faceoff.html" class="game-card" data-game="faceoff">
      <div class="completion-check" id="check-faceoff"></div>
      <img src="faceoff.png" alt="Faceoff" class="game-icon">
      <div class="game-name">FACEOFF</div>
      <div class="game-desc">Find the henchmen and villain aliens based on clues about their appearance. A logic visual puzzle.</div>
    </a>

    <a href="/uncover/uncover.html" class="game-card" data-game="scratchoff">
      <div class="completion-check" id="check-scratchoff"></div>
      <img src="scratchoff.png" alt="Scratch Off" class="game-icon">
      <div class="game-name">SCRATCH OFF</div>
      <div class="game-desc">Spend points to scratch off parts of four images, and guess what is hidden!</div>
    </a>

    <a href="/guesswhat/guesswhat.html" class="game-card" data-game="guesswhat">
      <div class="completion-check" id="check-guesswhat"></div>
      <img src="guesswhat.png" alt="Guess What" class="game-icon">
      <div class="game-name">GUESS WHAT?</div>
      <div class="game-desc">Deduce the mystery person, place, or thing from minimal clues. Use logic to narrow possibilities.</div>
    </a>

  </div>
</div>

<footer>
  <div class="footer-content">
    <div class="footer-countdown">
      <span class="countdown-label">Next Week</span>
      <span class="countdown-timer" id="countdown">--:--:--</span>
    </div>
    <a href="https://ko-fi.com/dom2d" target="_blank" class="footer-link kofi-link">
      Support on Ko-fi ☕
    </a>
  </div>
</footer>

<script>
// ═══════════════════════════════════════════════════════════════════════
// WEEK CALCULATION
// ═══════════════════════════════════════════════════════════════════════
function getWeekNumber() {
  const today = new Date();
  const epoch = new Date('2024-01-01');
  const diffDays = Math.floor((today - epoch) / 86400000);
  return Math.floor(diffDays / 7) + 1;
}

function getNextSunday() {
  const now = new Date();
  const day = now.getDay(); // 0=Sunday, 1=Monday, etc.
  const daysUntilSunday = day === 0 ? 7 : (7 - day);
  const nextSunday = new Date(now);
  nextSunday.setDate(now.getDate() + daysUntilSunday);
  nextSunday.setHours(0, 0, 0, 0);
  return nextSunday;
}

// ═══════════════════════════════════════════════════════════════════════
// COUNTDOWN TIMER
// ═══════════════════════════════════════════════════════════════════════
function updateCountdown() {
  const now = new Date();
  const target = getNextSunday();
  const diff = target - now;

  if (diff <= 0) {
    document.getElementById('countdown').textContent = '00:00:00';
    return;
  }

  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((diff % (1000 * 60)) / 1000);

  let display = '';
  if (days > 0) {
    display = `${days}d ${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
  } else {
    display = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
  }

  document.getElementById('countdown').textContent = display;
}

// ═══════════════════════════════════════════════════════════════════════
// COMPLETION TRACKING
// ═══════════════════════════════════════════════════════════════════════
const GAMES = [
  'werewolf',
  'folderdle',
  'caveman',
  'nerdstack',
  'mathemagical',
  'memori',
  'faceoff',
  'scratchoff',
  'guesswhat'
];

function updateCompletionStatus() {
  const weekNum = getWeekNumber();

  GAMES.forEach(game => {
    const isCompleted = localStorage.getItem(`${game}_w${weekNum}`) === '1';
    const checkmark = document.getElementById(`check-${game}`);
    
    if (isCompleted) {
      if (checkmark) {
        checkmark.classList.add('completed');
        checkmark.textContent = '✓';
      }
    } else {
      if (checkmark) {
        checkmark.classList.remove('completed');
        checkmark.textContent = '';
      }
    }
  });
}

// ═══════════════════════════════════════════════════════════════════════
// INITIALIZATION
// ═══════════════════════════════════════════════════════════════════════
function init() {
  updateCountdown();
  updateCompletionStatus();
  
  // Update countdown every second
  setInterval(updateCountdown, 1000);
  
  // Update completion status every 5 seconds (in case user completes in another tab)
  setInterval(updateCompletionStatus, 5000);
}

init();
</script>

</body>
</html>
